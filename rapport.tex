\documentclass[a4paper, 11pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{eurosym}

\usepackage{hyperref}

\pagestyle{headings}


\title{Rapport Bonne Paye}
\author{Mérédith CERESOLE et Joris VERDUN}

\begin{document}

\maketitle

\newpage

\tableofcontents

\newpage

\section{I. Organisation}

\subsection{Création des cartes}
Pour commencer la création du jeux, nous avons créer les cartes du jeu. Nous avons donc fait les structures des cartes courriers, acquisitions et evenements.
Nous leur avons donner pour commencer, une première version de structure que nous avons ensuite changer progressivement au fur et à mesure des problèmes ou des besoin que nous rencontrions.


\subsection{Fonctions sur les cartes}
On créer ensuite les fonctions qui se rapportent aux cartes créées. L'un s'est alors occupé des fonctions concernant les courriers et les évènements, tandis que l'autre s'est occupé des fonctions sur les acquisitions. Pour les courriers, nous avons créé des fonctions pour piocher un courrier, et pour le payer à la fin du mois, avec ajouter ultérieurement, des condition pour pouvoir faire jouer un ordinateur (s'il a plus l'argent nécessaire, plus 300\euro{}, plus 10\% du prêt du joueur, alors un ordinateur achètera une carte assurance). Dans tous les cas (sauf si le joueur ne prend pas l'assurance). Toujours pour les courriers, on créer plusieurs fonctions pour différencier les différents type de courrier, et pour déterminer si un joueur possède des carte besoin d'argent. De plus, on écrit une fonction ui a pour but d'initailiser la liste des courriers. On ajoute également une première version de fonction qui affiche les courriers sans interface graphique.
Pour les acquisitions,





Enfin, pour les évènements, on fait une fonction qui initialise la liste des évènements et une qui pioche un courrier et donne l'argent au joueur, ou le fait payer selon ce que dit l'évènement. Ici aussi, on fait une première version d'affichage d'évènement sans interface graphique.

\subsection{joueur}
Nous nous sommes ensuite interressé aux joueurs dont la création est devenu indispensable pour les fonctions précédemment créées.
Nous avons donc en premier lieu, créer la structure des joueurs, et l'avons complètée tout au long de la réalisation du jeu.

A la suite de cela, tandis que l'un de nous à commencé à s'occuper de l'interface graphique, l'autre a commencé à créer les fonctions de plateau et nécessaire au lancement d'une partie.

\subsection{fonctions du plateau}
Premièrement, nous avons créer les fonctions qui réalisent les différents évènements qui se déroule selon la case sur laquelle se trouve le joueur. Premièrement, nous avons créer différents fonction qui à partir du numéro de la case permet de déterminer de quelle case il s'agit. Nous avons également écrit deux trois fonction qui réalise le déroulement de l'évènement selon la case. Enfin, nous avons fait une fonction joueur avance qui fait ce qu'il se passe après qu'un joueur ait déplacé son pion (elle détermine de quelle case il s'agit et exécute le bon déroulement).


\subsection{interface carte}

Ensuite nous avons ajouté une interface graphique pour les acquisitions pour que l'on puisse voir les valeurs de cette dernière et aussi pouvoir interagir avec le clique pour acheter/ vendre une acquisition lorsque l'occasion se présente. Ces fonctions sont liées à celle crée pour les acquisitions permettant l'achat et la vente de ces dernières.




\subsection{interface plateau}

Nous avons récupéré une image de plateau de Bonne Paye et nous avons commencé à créer les fonctions permettant l'affichage du plateau et le positionnement de chaque pion correspondant aux joueurs en récupérant dans les structures des joueurs la case à laquelle ils se positionnents et ainsi faire avec des if des teste et vérifier s'il se trouve sur la bonne case.







\subsection{livret d'épargne et pret}
Nous avons ensuite créer les fonctions liées aux prêts et au livrets d'épargne.
IL nous a alors fallut faire une différence selon si le joueur est un ordinateur ou non car les fonctions nécessitent de faire un choix. Ainsi, pour le livret d'aprgne, nous avons programmé deux fontions qui permettent de trouver les intérêt touché en fonction de la somme posée sur le livret d'épargne, et de les donner au joueur concerné, à la fin du mois. Nous avons ensuite fait une fonction pour demander au joueur s'il veut ou non déposer de l'argent, et une pour l'ordinateur. Nous avons fait de même pour retirer de l'argent.


\subsection{menu}
Les fonctions du module crée ensuite (menu.c) ont pour but d'initialiser le jeu avant de pouvoir réaliser une partie.

La fonction initialiser est la fonction qui permet soit de charger une partie, grâce à des fonctions annexes créées ultérieurement, soit d'initialiser les paramètres nécessaires pau dédéroulement d'un partie.
On fait ensuite la fonction jouer qui exécute une partie.

Le main qui suit dans le module, est le main principale, permettant de jouer.

\subsection{sauvegarde}
On créer par la suite les fonctions permettant de créer une sauvagerde et de la charger.

La première fonction, surnommée encrypter, prend en paramètre le joueur qui vient de jouer, la liste des joueurs, la cagnotte, le numérot du mois en cours, la liste du nombre de mois qu'on fait chaque joueur, le nombre de mois maximum, la liste des courriers, la liste des acquisitions, et les note tous, selon un ordre précis, sur un fichier qui contiendra la sauvegarde.
La deuxième fonction, surnommée decrypter, prend en paramètre l'adresse des même paramètre que pour encrypter, et à l'aide d'un fichier de sauvegarde demandé au joueur, il récupère les informations nécessaire qu'il place dans les adresses en paramètres.


\subsection{tour}
Dans ce module, on créer une fonction lancer\_des qui réalise le lancer d'un dés par un jour et le fait avancer sur le plateau (modifie le numéro de la case sur laquelle il se trouve), et une fonction qui effectue ce qu'il se passe lors d'un tour (fait jouer tous les joueurs, avec les différentes conditions posées).

\subsection{Makefile}
Nous avons ensuite fait un makefile permettant l'exécution de tous les différents modules et de lancer une partie.

\subsection{interface graphique}
Enfin, nous avons complété l'interface graphique.

\section{II. Difficultés}
Tout au long de la réalisation du jeu, nous avons rencontrer différents problèmes. Pour commencer, le grand nombre de modules entremêlés posait des problèmes pour l'exécution du jeu (multiples définitions et définitions croisées). Nous avons donc regroupé certains modules, et placé des ifndef... define... endif à chauqe module pour ne plus retrouver ses erreurs.
Nous avons également rencontrer assez fréquemment des erreurs au niveau des pointeurs, certains fonctions nécessitant l'utilisation de pointeur pour modifier la valeur tandis que d'autres n'en avaient pas besoin.
Et pusi, il y avait la difficulté sur l'interphace graphique qui ne voulait pas toujours fonctionner comme nous le voulions.
Néanmoins, nous avons réussi avec assez d'acharnement à résoudre ces problèmes (normalement).
Une autre difficulté fu la sauvegarde,car dans nos fonctions on envoie l'adresse de la cagnotte et donc pour écrire dans le fichier sauvegarde nous souhaitions écrire la valeur se la cagnotte et non pas l'adresse hors l'adresse était écrite, si nous rajoutions une * devant la cagnotte pour dire que nous voulons la valeur sur laquelle le pointeur pointe dans le fprintf() pour écrire dans le fichier alors cette fois si un segmentation fault etait présent.





\end{document}
